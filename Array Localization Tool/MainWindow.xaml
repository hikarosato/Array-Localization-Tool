<Window x:Class="Array_Translate_Tool.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="Array Localization Tool 2.8" Height="600" Width="950"
        MinHeight="600" MinWidth="950" WindowStartupLocation="CenterScreen" Closing="Window_Closing" KeyDown="Window_KeyDown">
    <DockPanel>
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Height="27">
            <Menu HorizontalAlignment="Center" Background="White" Margin="23,0,0,0">
                <MenuItem Header="Файл" Height="27">
                    <MenuItem x:Name="BtnOpen" Header="Відкрити" Click="BtnOpen_Click" InputGestureText="Ctrl+O"/>
                    <MenuItem x:Name="BtnSave" Header="Зберегти як..." Click="BtnSave_Click" InputGestureText="Ctrl+S"/>
                </MenuItem>
                <MenuItem Header="Редагувати">
                    <MenuItem x:Name="BtnLoadTranslation" Header="Імпорт з JSON" Click="BtnLoadTranslation_Click"/>
                    <Separator />
                    <MenuItem x:Name="BtnExportCsv" Header="Експорт у CSV" Click="BtnExportCsv_Click"/>
                    <MenuItem x:Name="BtnImportCsv" Header="Імпорт з CSV" Click="BtnImportCsv_Click"/>
                    <Separator />
                    <MenuItem x:Name="BtnRestoreAll" Header="Повернути оригінал в усі рядки" Click="BtnRestoreAll_Click"/>
                </MenuItem>
                <MenuItem Header="?">
                    <MenuItem Header="Про програму" Click="BtnAbout_Click"/>
                </MenuItem>
            </Menu>
            <Border Width="1" Background="#abadb3" Margin="3,0"/>
            <ToggleButton x:Name="TglSearchByID" Content="Текст" Margin="3" Width="40" VerticalAlignment="Center"
                          Checked="TglSearchByID_Checked" Unchecked="TglSearchByID_Unchecked" IsEnabled="False"/>
            <TextBox x:Name="TxtSearch" Width="300" Margin="3,0,3,0" KeyDown="TxtSearch_KeyDown" VerticalContentAlignment="Center" FontSize="14"/>
            <Button x:Name="BtnSearch" Content="🔍" Width="21" Margin="3" Click="BtnSearch_Click" IsEnabled="False"/>
            <CheckBox x:Name="ChkCase" Content="З урах. регістру" Margin="6"/>
            <CheckBox x:Name="ChkExact" Content="Точний збіг рядка" Margin="6"/>
            <Button x:Name="BtnPrev" Content="⯇" Width="21" Margin="3" Click="BtnPrev_Click" IsEnabled="False" HorizontalAlignment="Center"
                    VerticalAlignment="Center"/>
            <Button x:Name="BtnNext" Content="⯈" Width="21" Margin="3" Click="BtnNext_Click" IsEnabled="False" HorizontalAlignment="Center"
                    VerticalAlignment="Center"/>
            <Label x:Name="LblSearchStatus" Margin="5,0,0,0"/>
        </StackPanel>
        <Grid Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="4*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="2*"/>
            </Grid.RowDefinitions>
            <DataGrid x:Name="DataGridTerms" AutoGenerateColumns="False" Grid.Row="0" SelectionMode="Single" SelectionUnit="FullRow"
                      IsReadOnly="False" SelectionChanged="DataGridTerms_SelectionChanged" CellEditEnding="DataGridTerms_CellEditEnding"
                      CanUserAddRows="False" Visibility="Collapsed" HorizontalScrollBarVisibility="Disabled" GridLinesVisibility="None">
                <DataGrid.Resources>
                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderBrush" Value="#FFC2C3C9"/>
                        <Setter Property="BorderThickness" Value="0.5"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.RowStyle>
                    <Style TargetType="DataGridRow">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsModified}" Value="True">
                                <Setter Property="Background" Value="#4C98FB98"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.RowStyle>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="№" Width="auto" IsReadOnly="True" Binding="{Binding Number}" CanUserSort="False"/>
                    <DataGridTextColumn Header="ID" Width="200" IsReadOnly="True" Binding="{Binding Term}" CanUserSort="False"/>
                    <DataGridTextColumn Header="Оригінал" Width="250" IsReadOnly="True" Binding="{Binding Original}" CanUserSort="False"/>
                    <DataGridTextColumn Header="Переклад" Width="*" IsReadOnly="True" Binding="{Binding Translation, UpdateSourceTrigger=PropertyChanged}" CanUserSort="False"/>
                </DataGrid.Columns>
            </DataGrid>
            <DockPanel Grid.Row="1" Margin="0,5,0,5" Height="23" LastChildFill="False">
                <StackPanel Orientation="Horizontal" x:Name="StatsPanel" DockPanel.Dock="Left" VerticalAlignment="Center" Visibility="Collapsed">
                    <TextBlock Text="К-сть рядків: "/>
                    <TextBlock x:Name="LblTotalRows" FontWeight="Bold" Margin="0,0,20,0"/>
                    <TextBlock Text="К-сть слів: "/>
                    <TextBlock x:Name="LblTotalWords" FontWeight="Bold" Margin="0,0,20,0"/>
                    <TextBlock Text="Перекладено рядків: "/>
                    <TextBlock x:Name="LblTranslatedRows" FontWeight="Bold" Margin="0,0,20,0"/>
                    <TextBlock Text="% перекладеного: "/>
                    <TextBlock x:Name="LblTranslatedPercent" FontWeight="Bold" Margin="0,0,20,0"/>
                </StackPanel>

                <Button x:Name="BtnRestoreOriginal" Content="Повернути оригінал" Click="BtnRestoreOriginal_Click" Width="130"
            VerticalAlignment="Center" DockPanel.Dock="Right"/>
            </DockPanel>
            <TextBox x:Name="TxtTranslation" Grid.Row="2" AcceptsReturn="True" FontSize="14" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"
                     BorderBrush="DodgerBlue" BorderThickness="2" FontWeight="Bold" TextChanged="TxtTranslation_TextChanged"/>
        </Grid>
    </DockPanel>
</Window>
